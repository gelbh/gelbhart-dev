<header class="header bg-dark navbar navbar-expand-lg position-absolute navbar-sticky py-4" data-bs-theme="dark">
    <div class="container px-3">
        <!-- Hevy Tracker link -->
        <%= link_to hevy_tracker_path, class: "btn btn-primary" do %>
        <i class="bx bx-lock-open-alt me-2"></i>
        Hevy Tracker
        <% end %>

        <!-- Center logo -->
        <%= link_to root_path, class: "navbar-brand pe-3 position-absolute start-50 translate-middle-x header-brand" do %>
        <%= image_tag "logos/logo_icon_only_transparent.png", width: 47, alt: "Logo", class: "header-logo" %>
        <span class="header-brand-text">gelbhart.dev</span>
        <% end %>

        <!-- Theme switcher -->
        <div class="form-check form-switch mode-switch pe-lg-1 ms-auto me-4" data-controller="theme">
            <input type="checkbox" class="form-check-input" id="theme-mode" data-theme-target="checkbox" data-action="theme#toggleTheme">
            <label class="form-check-label d-none d-sm-block" for="theme-mode" data-theme-target="lightLabel">Light</label>
            <label class="form-check-label d-none d-sm-block" for="theme-mode" data-theme-target="darkLabel">Dark</label>
        </div>
    </div>
</header>

<style>
    /* Logo and text styling */
    .header-logo,
    .header-brand-text {
        transition: all 0.3s ease-in-out;
        opacity: 0.9;
    }

    /* Header brand container */
    .header-brand {
        display: flex !important;
        flex-direction: row !important;
        align-items: center;
        gap: 0.75rem;
    }

    /* Hover effects */
    .header-brand:hover .header-logo {
        transform: translateY(-4px);
        opacity: 1;
        filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.5)) drop-shadow(0 0 25px rgba(255, 255, 255, 0.3)) drop-shadow(0 0 35px rgba(255, 255, 255, 0.2));
    }

    .header-brand:hover .header-brand-text {
        opacity: 1;
        transform: translateY(-2px);
        text-shadow:
            0 0 15px rgba(163, 5, 182, 0.3),
            0 0 30px rgba(163, 5, 182, 0.2);
        color: rgba(255, 255, 255, 1);
    }

    /* Make sure the header stays above other content */
    .header {
        z-index: 1030;
    }
</style>