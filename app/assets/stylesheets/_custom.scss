// ============================================
// CUSTOM STYLES FOR GELBHART.DEV
// ============================================
//

// ---- Foundation ----
// CSS variables, colors, spacing, transitions, z-index layers
@use "components/variables" as *;

// Shared SCSS mixins for reusable patterns
@use "components/mixins" as *;

// All @keyframes animations used throughout the site
@use "components/animations" as *;

// Global base styles (body, html, card utilities)
@use "components/base" as *;

// ---- Layout Components ----
// Footer and scroll-to-top button styles
@use "components/layout/footer" as *;

// Header styles
@use "components/layout/header" as *;

// ---- UI Components ----
// Custom tooltip styles matching theme colors
@use "components/ui/tooltips" as *;
// Tech badge info button and popover styles
@use "components/ui/tech-info" as *;

// ---- Page Sections ----
// Hero section with animated backgrounds and gradient text
@use "components/sections/hero" as *;

// Technologies & skills section with tech cards
@use "components/sections/tech-skills" as *;

// Contact page with glassmorphic cards and typing code background
@use "components/sections/contact" as *;

// Project cards with hover effects and animations
@use "components/sections/projects" as *;

// Pac-Man game styles:
@use "components/pages/pacman" as *;

// ---- Project Pages ----
// Video Captioner page with hero and card styles
@use "components/pages/video-captioner" as *;

// Hevy Tracker page with hero, cards, gallery, and steps
@use "components/pages/hevy-tracker" as *;

// NASA Exoplanet Explorer page with hero and card styles
@use "components/pages/nasa-exoplanet-explorer" as *;

// Google Maps Converter page with hero, card, and CodeMirror styles
@use "components/pages/google-maps-converter" as *;

// Error page styles
// Ensure error page buttons use solid indigo color matching logo (not pink gradient)
.error-page .btn-primary {
  background-color: #6366f1 !important;
  border-color: #6366f1 !important;

  &:hover,
  &:focus,
  &:active {
    background-color: #4f46e5 !important;
    border-color: #4f46e5 !important;
  }
}

// Prevent scrolling on error pages
body:has(.error-page) {
  overflow: hidden;
  max-height: 100vh;
}

.error-page {
  height: 100vh;
  max-height: 100vh;
  overflow: hidden;
}

// ============================================
// GLOBAL TOUCH OPTIMIZATIONS
// ============================================

// Buttons - disable double-tap zoom and ensure touch targets
button,
.btn,
a[role="button"],
input[type="button"],
input[type="submit"] {
  touch-action: manipulation;
  min-height: 44px;
  min-width: 44px;

  @media (any-pointer: coarse) {
    min-height: 48px;
    min-width: 48px;
  }
}

// Links - ensure adequate touch targets
a:not(.btn):not(.nav-link):not(.dropdown-item):not(.mobile-nav-link):not(
    .mobile-nav-sublink
  ) {
  @media (any-pointer: coarse) {
    min-height: 44px;
    display: inline-flex;
    align-items: center;
  }
}

// Scrollable containers - allow vertical scrolling
body,
.page-wrapper,
.container {
  touch-action: pan-y;
}

// Form inputs - prevent iOS zoom and ensure touch-friendly sizes
input:not([type="checkbox"]):not([type="radio"]),
select,
textarea {
  font-size: 16px; // Prevent iOS zoom
  touch-action: manipulation;

  @media (any-pointer: coarse) {
    min-height: 48px;
    padding: 12px 16px;
  }
}

// Checkboxes and radio buttons - ensure touch targets
input[type="checkbox"],
input[type="radio"] {
  @media (any-pointer: coarse) {
    min-width: 48px;
    min-height: 48px;
  }
}

// ============================================
// MOBILE UX
// ============================================

// Smooth scrolling with motion preference respect
@media (prefers-reduced-motion: no-preference) {
  html {
    scroll-behavior: smooth;
  }
}

// Better tap highlighting on mobile
* {
  -webkit-tap-highlight-color: rgba(99, 102, 241, 0.2);
}

// ============================================
// SAFE AREA INSETS
// ============================================

// Main container safe area padding
.container {
  padding-left: max(1rem, env(safe-area-inset-left));
  padding-right: max(1rem, env(safe-area-inset-right));
}

// Page wrapper safe area support
.page-wrapper {
  padding-bottom: env(safe-area-inset-bottom);
}

// Fixed/sticky elements need safe area consideration
.header,
.navbar-sticky {
  padding-left: max(0.5rem, env(safe-area-inset-left));
  padding-right: max(0.5rem, env(safe-area-inset-right));
}

// Footer safe area support
footer,
.footer {
  padding-bottom: max(1rem, env(safe-area-inset-bottom));
}

// Scroll-to-top button positioning with safe area
.btn-scroll-top {
  right: max(1.25rem, calc(env(safe-area-inset-right) + 0.5rem));
  bottom: max(1.25rem, calc(env(safe-area-inset-bottom) + 0.5rem));
}

// Modal safe area support for bottom sheet modals
.modal-dialog {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

// Mobile menu safe area support
.mobile-menu-popup {
  padding-bottom: max(1rem, env(safe-area-inset-bottom));
}
